<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>2026 | The Final Countdown</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --glow: #00f2ff;
            --pink: #ff007a;
            --gold: #ffd700;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #000;
            color: #fff;
            font-family: 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Moving Hyper-Space Background */
        #star-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .gradient-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, transparent 0%, #000 80%);
            z-index: 2;
            pointer-events: none;
        }

        .main-ui {
            position: relative;
            z-index: 10;
            text-align: center;
            width: 90%;
            max-width: 600px;
        }

        .year-title {
            font-size: clamp(4rem, 20vw, 8rem);
            font-weight: 900;
            letter-spacing: -5px;
            margin: 0;
            background: linear-gradient(to bottom, #fff 0%, var(--glow) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 30px rgba(0, 242, 255, 0.4));
            animation: drift 4s ease-in-out infinite;
        }

        @keyframes drift {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Hours/Mins/Secs only */
        .timer-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .box {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 20px;
            min-width: 90px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .box .num {
            display: block;
            font-size: clamp(2rem, 10vw, 3.5rem);
            font-weight: 800;
            color: var(--glow);
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 20px var(--glow);
        }

        .box .label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.6;
        }

        /* Dynamic Message Bubble */
        .msg-display {
            background: linear-gradient(45deg, rgba(255,0,122,0.1), rgba(0,242,255,0.1));
            border-left: 4px solid var(--pink);
            padding: 15px 25px;
            border-radius: 12px;
            margin: 20px auto;
            max-width: 400px;
            font-style: italic;
            display: none; /* Only shows if vibe param is present */
        }

        /* One-Click Call to Action */
        .blast-button {
            background: #fff;
            color: #000;
            border: none;
            padding: 20px 40px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 800;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: 0.3s;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
            margin-top: 10px;
        }

        .blast-button:hover {
            transform: scale(1.1);
            background: var(--glow);
            box-shadow: 0 0 50px var(--glow);
        }

        /* Customization Modal */
        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal {
            background: #111;
            padding: 30px;
            border-radius: 25px;
            width: 100%;
            max-width: 400px;
            border: 1px solid var(--glow);
        }

        textarea {
            width: 100%;
            background: #222;
            border: 1px solid #333;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-family: inherit;
            margin: 15px 0;
        }
    </style>
</head>
<body>

<canvas id="star-canvas"></canvas>
<div class="gradient-overlay"></div>

<div class="main-ui">
    <h1 class="year-title">2026</h1>
    <p style="opacity: 0.5; letter-spacing: 4px; font-weight: 300;">MISSION INITIATING IN</p>

    <div class="timer-row">
        <div class="box">
            <span class="num" id="h">00</span>
            <span class="label">Hours</span>
        </div>
        <div class="box">
            <span class="num" id="m">00</span>
            <span class="label">Mins</span>
        </div>
        <div class="box">
            <span class="num" id="s">00</span>
            <span class="label">Secs</span>
        </div>
    </div>

    <div class="msg-display" id="msg-bubble">
        "<span id="msg-content"></span>"
    </div>

    <button class="blast-button" onclick="showModal()">âš¡ Personalize & Share</button>
</div>

<div class="overlay" id="modal-overlay">
    <div class="modal">
        <h3>Create Your Vibe</h3>
        <p style="font-size: 0.8rem; opacity: 0.7;">Your wish will be embedded in a special link to share.</p>
        <textarea id="vibe-input" rows="4" placeholder="Example: 2026 will be the year of growth!"></textarea>
        <button class="blast-button" style="width: 100%;" onclick="genLink()">Create & Copy Link</button>
        <button onclick="hideModal()" style="background: none; border: none; color: #fff; margin-top: 15px; cursor: pointer; width: 100%; opacity: 0.5;">Cancel</button>
    </div>
</div>

<script>
    // --- STARS ENGINE ---
    const canvas = document.getElementById('star-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function init() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<400; i++) {
            stars.push({
                x: (Math.random() - 0.5) * canvas.width * 2,
                y: (Math.random() - 0.5) * canvas.height * 2,
                z: Math.random() * canvas.width,
                o: Math.random()
            });
        }
    }

    function animate() {
        ctx.fillStyle = '#000';
        ctx.fillRect(0,0, canvas.width, canvas.height);
        ctx.translate(canvas.width/2, canvas.height/2);

        stars.forEach(s => {
            s.z -= 4; // Warp speed!
            if (s.z <= 0) s.z = canvas.width;

            let x = s.x / (s.z / canvas.width);
            let y = s.y / (s.z / canvas.width);
            let size = (1 - s.z / canvas.width) * 3;

            ctx.fillStyle = `rgba(255, 255, 255, ${1 - s.z / canvas.width})`;
            ctx.beginPath();
            ctx.arc(x, y, size, 0, Math.PI * 2);
            ctx.fill();
        });

        ctx.translate(-canvas.width/2, -canvas.height/2);
        requestAnimationFrame(animate);
    }

    window.addEventListener('resize', init);
    init();
    animate();

    // --- COUNTDOWN LOGIC ---
    const target = new Date("January 1, 2026 00:00:00").getTime();

    function update() {
        const now = new Date().getTime();
        const diff = target - now;

        if (diff <= 0) {
            triggerNewYear();
            return;
        }

        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById('h').innerText = String(h).padStart(2, '0');
        document.getElementById('m').innerText = String(m).padStart(2, '0');
        document.getElementById('s').innerText = String(s).padStart(2, '0');
    }
    setInterval(update, 1000);

    // --- PERSONALIZATION ---
    function showModal() { document.getElementById('modal-overlay').style.display = 'flex'; }
    function hideModal() { document.getElementById('modal-overlay').style.display = 'none'; }

    function genLink() {
        const input = document.getElementById('vibe-input').value;
        if(!input) return alert("Write a vibe!");
        const encoded = btoa(unescape(encodeURIComponent(input)));
        const shareURL = window.location.origin + window.location.pathname + '?vibe=' + encoded;
        
        navigator.clipboard.writeText(shareURL);
        alert("Personalized link copied! Paste it in your chat. ðŸš€");
        hideModal();
    }

    // Load custom vibe
    const params = new URLSearchParams(window.location.search);
    if(params.get('vibe')) {
        const decoded = decodeURIComponent(escape(atob(params.get('vibe'))));
        document.getElementById('msg-content').innerText = decoded;
        document.getElementById('msg-bubble').style.display = 'block';
    }

    // --- FINAL BLAST ---
    function triggerNewYear() {
        document.querySelector('.year-title').innerText = "HAPPY 2026";
        document.querySelector('.year-title').style.fontSize = "5rem";
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
            colors: ['#00f2ff', '#ff007a', '#ffd700']
        });
    }
</script>

</body>
</html>